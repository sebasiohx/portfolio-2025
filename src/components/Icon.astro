---
import type { HTMLAttributes } from 'astro/types';
import { iconPaths } from '@utils/IconPaths';
import type { IconName } from '@utils/IconPaths';

interface Props {
  icon: IconName;
  class?: string;
  size?: number | string;
  height?: number | string;
  width?: number | string;
  color?: string;
  style?: HTMLAttributes<'svg'>['style'];
}

const {
  icon,
  class: className = '',
  size = '1.5rem',
  height = '',
  width = '',
  color = 'currentColor',
  style = {'vertical-align': 'middle'},
} = Astro.props;

const iconPath = iconPaths[icon][0];
const iconViewBox = iconPaths[icon][1] ?? '0 0 512 512';

const attrs: HTMLAttributes<'svg'> = {
  xmlns: 'http://www.w3.org/2000/svg',
  'aria-hidden': 'true',
  height: height || size,
  width: width || size,
  fill: color,
  class: className,
  style: style,
};
---

<svg {...attrs} viewBox={iconViewBox} set:html={iconPath}></svg>
<!-- Icon component -->